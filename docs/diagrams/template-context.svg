<svg viewBox="0 0 700 320" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow4" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <polygon points="0 0, 7 2.5, 0 5" fill="#d4a84b"/>
    </marker>
    <marker id="arrow4b" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto">
      <polygon points="0 0, 7 2.5, 0 5" fill="#8b7355"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect x="0" y="0" width="700" height="320" fill="#1e1e1e"/>

  <!-- Config source -->
  <rect x="10" y="10" width="200" height="120" rx="6" fill="#2a2520" stroke="#8b7355" stroke-width="2"/>
  <rect x="10" y="10" width="200" height="28" rx="6" fill="#8b7355"/>
  <text x="110" y="29" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="bold" fill="#1e1e1e">Site (site.toml)</text>

  <text x="20" y="55" font-family="monospace" font-size="9" fill="#8b7355">config.site.title</text>
  <text x="20" y="70" font-family="monospace" font-size="9" fill="#8b7355">config.site.domain</text>
  <text x="20" y="85" font-family="monospace" font-size="9" fill="#8b7355">config.site.author</text>
  <text x="20" y="100" font-family="monospace" font-size="9" fill="#8b7355">config.dynamic.*</text>
  <text x="20" y="115" font-family="monospace" font-size="9" fill="#8b7355">config.content.*</text>

  <!-- Content source -->
  <rect x="10" y="145" width="200" height="165" rx="6" fill="#2a2520" stroke="#d4a84b" stroke-width="2"/>
  <rect x="10" y="145" width="200" height="28" rx="6" fill="#d4a84b"/>
  <text x="110" y="164" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="bold" fill="#1e1e1e">Content Item (*.meta.toml)</text>

  <text x="20" y="190" font-family="monospace" font-size="9" fill="#d4a84b">meta.title</text>
  <text x="20" y="205" font-family="monospace" font-size="9" fill="#d4a84b">meta.date</text>
  <text x="20" y="220" font-family="monospace" font-size="9" fill="#d4a84b">meta.author</text>
  <text x="20" y="235" font-family="monospace" font-size="9" fill="#d4a84b">meta.tags</text>
  <text x="20" y="250" font-family="monospace" font-size="9" fill="#d4a84b">meta.cover</text>
  <text x="20" y="265" font-family="monospace" font-size="9" fill="#d4a84b">meta.extra.*</text>
  <text x="20" y="280" font-family="monospace" font-size="9" fill="#d4a84b">meta.extra_js</text>
  <text x="20" y="295" font-family="monospace" font-size="9" fill="#e07850">content | excerpt</text>

  <!-- Arrows with arrowheads -->
  <line x1="210" y1="70" x2="270" y2="120" stroke="#8b7355" stroke-width="2" marker-end="url(#arrow4b)"/>
  <line x1="210" y1="220" x2="270" y2="170" stroke="#d4a84b" stroke-width="2" marker-end="url(#arrow4)"/>

  <!-- Template -->
  <rect x="280" y="60" width="200" height="200" rx="6" fill="#2a2520" stroke="#4a4540" stroke-width="2"/>
  <rect x="280" y="60" width="200" height="28" rx="6" fill="#3a3430"/>
  <text x="380" y="79" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#e0d5c8">Template Context</text>

  <text x="290" y="105" font-family="system-ui, sans-serif" font-size="10" fill="#e0d5c8" font-weight="bold">Content templates:</text>
  <text x="300" y="122" font-family="monospace" font-size="9" fill="#a09080">{{ meta.title }}</text>
  <text x="300" y="137" font-family="monospace" font-size="9" fill="#a09080">{{ content | safe }}</text>
  <text x="300" y="152" font-family="monospace" font-size="9" fill="#a09080">{{ config.site.* }}</text>

  <text x="290" y="175" font-family="system-ui, sans-serif" font-size="10" fill="#e0d5c8" font-weight="bold">Index templates also get:</text>
  <text x="300" y="192" font-family="monospace" font-size="9" fill="#a09080">{{ contents }}</text>
  <text x="395" y="192" font-family="system-ui, sans-serif" font-size="8" fill="#6a6a6a">this type</text>
  <text x="300" y="207" font-family="monospace" font-size="9" fill="#a09080">{{ all_content }}</text>
  <text x="395" y="207" font-family="system-ui, sans-serif" font-size="8" fill="#6a6a6a">all types</text>

  <text x="290" y="230" font-family="system-ui, sans-serif" font-size="10" fill="#e0d5c8" font-weight="bold">Filters:</text>
  <text x="300" y="247" font-family="monospace" font-size="9" fill="#e07850">| safe | url | asset_hash</text>

  <!-- Arrow to output -->
  <line x1="480" y1="160" x2="530" y2="160" stroke="#d4a84b" stroke-width="2" marker-end="url(#arrow4)"/>

  <!-- Output -->
  <rect x="540" y="100" width="150" height="120" rx="6" fill="#2a2520" stroke="#7a9f6a" stroke-width="2"/>
  <rect x="540" y="100" width="150" height="28" rx="6" fill="#7a9f6a"/>
  <text x="615" y="119" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#1e1e1e">Output HTML</text>

  <text x="555" y="150" font-family="system-ui, sans-serif" font-size="9" fill="#7a9f6a">Fully rendered</text>
  <text x="555" y="165" font-family="system-ui, sans-serif" font-size="9" fill="#7a9f6a">static HTML page</text>
  <text x="555" y="185" font-family="monospace" font-size="8" fill="#a09080">index.html</text>
  <text x="555" y="200" font-family="monospace" font-size="8" fill="#a09080">{type}/{stem}/index.html</text>
</svg>
